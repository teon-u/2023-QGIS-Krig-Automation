# 2023-QGIS-Krig-Automation
PyQGIS를 이용한 KRIGING 보간 및 데이터 코드화, 표준화 작업

### 사례집
![image](https://github.com/teon-u/2023-QGIS-Krig-Automation/assets/89633138/5e2d404f-f5e0-4a3c-83b6-cd83ef74d8d8)

해당 코드는 QGIS 애플리케이션의 파이썬 콘솔에서 실행 가능합니다.

## 상세 내용

1. 포인트 데이터의 헥사곤 평활화
 - 포인트 데이터(수온 측정소)가 몰려 있는 경우, 의도치 않게 가중되어 보간될 수 있습니다.
 - 이를 방지하기 위해 5km 크기의 헥사곤(육각형)을 생성, 해당 헥사곤 내의 포인트 데이터는 평균값으로 치환하여 데이터의 분포를 보다 고르게 만듭니다.

2. 헥사곤 평활화 데이터를 포인트 데이터로 변환
 - 보간 알고리즘을 적용하기 위해 다시 포인트 데이터로 변환해줍니다.

3. 포인트 데이터의 Kriging 보간
 - Kriging 보간법은 공간적 자기상관이 존재하는 해수온도와 같은 데이터를 보간하는데 유리합니다.
 - 예를 들어 북쪽은 차갑고 남쪽은 따뜻한 상관성을 IDW나 TIN 보간방식에서는 반영할 수 없습니다.

4. 보간 결과의 Masking
 - 보간은 완료했지만, 대한민국의 육지와 먼 해양 등 부정확한 데이터가 많이 포함되어 있습니다.
 - 비교적 정확한 데이터만 포함될 수 있도록, 해안경계에서부터 30Km 까지의 데이터만을 Masking 해 남겨줍니다.

6. 해양수산부 4단계 격자로 코드화
 - 다른데이터와의 융합 등 보간 데이터의 폭넓은 이용을 위해, 해양수산부 4단계 격자 코드에 맞춰 데이터를 변형합니다.
 - 기존 보간 데이터를 포인트로 만들고, 이후 포인트 데이터를 해양수산부 4단계 격자에 맞춰 병합(평균)하는 방식으로 진행합니다.

7. 처리된 데이터의 저장
 - 모든 보관 과정을 완료한 데이터는 데이터프레임에 저장되었다가, 5월 1일부터 31일 까지의 반복문이 모두 처리되면 하나의 데이터프레임으로 병합합니다.
 - 해당 데이터프레임을 엑셀 또는 csv 형태로 내보냅니다.


### 자동화 코드 프로세스
![image](https://github.com/teon-u/2023-QGIS-Krig-Automation/assets/89633138/ba643334-86bc-4315-886e-fad4da98c312)

